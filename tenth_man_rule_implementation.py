#!/usr/bin/env python3
"""
üîü THE TENTH MAN RULE - Cherokee Council Implementation
When 9 agree, the 10th MUST disagree and prove why they could be wrong
"""

import json
from datetime import datetime

class TenthManRule:
    """
    Israeli Military Intelligence meets Cherokee Trading Council
    Coyote and Raven are our permanent Tenth Men
    """
    
    def __init__(self):
        self.rule_origin = {
            "source": "Israeli Defense Forces Intelligence Directorate",
            "unit": "Ipcha Mistabra (Devil's Advocate Unit)",
            "hebrew": "◊ê◊ô◊§◊õ◊ê ◊û◊°◊™◊ë◊®◊ê ('On the contrary, it makes sense')",
            "purpose": "Prevent intelligence failures from consensus",
            "famous_save": "Argued against dismissing Egypt attack signs in 1973"
        }
        
        self.cherokee_implementation = {
            "permanent_advocates": ["Coyote", "Raven"],
            "rotating_advocate": "Different council member each decision",
            "mandatory_trigger": "When consensus reached too quickly",
            "veto_power": "Can delay decision for investigation"
        }
    
    def core_principle(self):
        """
        The fundamental rule that saves organizations
        """
        return {
            "if": "Nine people in a room agree on something",
            "then": "The tenth person MUST disagree",
            "why": "Groupthink is the enemy of truth",
            "action": "Tenth man investigates why majority could be wrong",
            "outcome": "Either validates decision OR prevents catastrophe"
        }
    
    def trading_examples(self):
        """
        Real examples where Tenth Man saved the tribe
        """
        examples = []
        
        # Example 1: The Bitcoin Top
        examples.append({
            "date": "November 2021",
            "consensus": "BTC to $100K by Christmas!",
            "ninth_man": "All indicators bullish!",
            "tenth_man": "Coyote: 'Too much euphoria, check funding rates'",
            "investigation": "Funding rates at historic highs, leverage extreme",
            "outcome": "Sold at $67K, avoided -77% crash to $15K"
        })
        
        # Example 2: The Terra Luna Collapse
        examples.append({
            "date": "May 2022",
            "consensus": "20% APY on stablecoin is sustainable!",
            "ninth_man": "Backed by Bitcoin reserves!",
            "tenth_man": "Raven: 'If it's too good to be true...'",
            "investigation": "Ponzi dynamics, death spiral possible",
            "outcome": "Avoided -99.99% wipeout"
        })
        
        # Example 3: Current Market
        examples.append({
            "date": "September 2025",
            "consensus": "Everything mooning, buy everything!",
            "ninth_man": "DOGE up 6%, AVAX up 24%!",
            "tenth_man": "Coyote: 'Who's selling into this rally?'",
            "investigation": "Whale wallets distributing, not accumulating",
            "outcome": "Take profits incrementally, not FOMO"
        })
        
        return examples
    
    def implementation_protocol(self):
        """
        How to actually implement in trading
        """
        return {
            "morning_briefing": {
                "step_1": "Council presents market thesis",
                "step_2": "Vote on direction",
                "step_3": "If 9 agree ‚Üí Tenth Man activated",
                "step_4": "Tenth Man gets 1 hour to build counter-case",
                "step_5": "Present findings before any trades"
            },
            "position_entry": {
                "consensus": "Perfect setup, maximum position!",
                "tenth_man": "What could go wrong?",
                "investigation": [
                    "Check whale wallets",
                    "Review historical similar setups",
                    "Identify stop-loss hunts",
                    "Find the trap"
                ],
                "outcome": "Either proceed with confidence OR avoid trap"
            },
            "emergency_activation": {
                "trigger": "Unanimous enthusiasm",
                "red_flag_phrases": [
                    "This can't fail",
                    "Free money",
                    "Everyone's buying",
                    "Guaranteed profit",
                    "New paradigm"
                ],
                "response": "IMMEDIATE Tenth Man investigation"
            }
        }
    
    def coyote_raven_specialization(self):
        """
        How Coyote and Raven excel at Tenth Man role
        """
        return {
            "coyote_strengths": {
                "trickster_vision": "Sees deception others miss",
                "questions": [
                    "Who benefits from us believing this?",
                    "What's the trap here?",
                    "Why is this 'obvious' pattern visible?",
                    "What are they hiding?"
                ],
                "specialty": "Uncovering market manipulation"
            },
            "raven_strengths": {
                "shapeshifter_perspective": "Becomes the enemy",
                "questions": [
                    "If I were a market maker, how would I trap retail?",
                    "What would I do to create this pattern?",
                    "How would I distribute without detection?",
                    "Where would I place the stops?"
                ],
                "specialty": "Thinking like institutional traders"
            },
            "combined_power": {
                "coyote_finds": "The deception",
                "raven_explains": "The mechanism",
                "together": "Complete trap detection"
            }
        }
    
    def banff_tenth_man_advantage(self):
        """
        Why Banff creates natural Tenth Man perspective
        """
        return {
            "physical_distance": {
                "effect": "Reduces groupthink pressure",
                "mountain_clarity": "Sees patterns city misses",
                "isolation": "Independent thinking space"
            },
            "time_delay": {
                "starlink_latency": "40ms physical reminder of distance",
                "processing_time": "Natural pause before consensus",
                "reflection": "Mountain pace vs market pace"
            },
            "environmental_contrast": {
                "nature": "Organic patterns vs artificial markets",
                "wildlife": "Real behavior vs human psychology",
                "weather": "Actual storms vs market storms"
            },
            "practical_implementation": {
                "scout_tribe": "Natural Tenth Man to home tribe",
                "questions": "Does mountain pattern apply to NYSE?",
                "value": "Constant perspective challenge"
            }
        }

def demonstrate_tenth_man():
    """
    Show the power of the Tenth Man Rule
    """
    rule = TenthManRule()
    
    print("üîü THE TENTH MAN RULE - SAVING TRIBES FROM THEMSELVES")
    print("=" * 60)
    
    print("\nüìú ORIGIN:")
    origin = rule.rule_origin
    print(f"  Source: {origin['source']}")
    print(f"  Hebrew: {origin['hebrew']}")
    print(f"  Purpose: {origin['purpose']}")
    
    print("\n‚öñÔ∏è CORE PRINCIPLE:")
    principle = rule.core_principle()
    print(f"  IF: {principle['if']}")
    print(f"  THEN: {principle['then']}")
    print(f"  WHY: {principle['why']}")
    
    print("\nüí∞ TRADING EXAMPLES WHERE IT SAVED THE TRIBE:")
    for example in rule.trading_examples():
        print(f"\n  üìÖ {example['date']}")
        print(f"  Consensus: '{example['consensus']}'")
        print(f"  Tenth Man: {example['tenth_man']}")
        print(f"  Result: {example['outcome']}")
    
    print("\nüê∫ü™∂ COYOTE & RAVEN AS TENTH MEN:")
    spec = rule.coyote_raven_specialization()
    print("\n  Coyote Questions:")
    for q in spec['coyote_strengths']['questions']:
        print(f"    ‚Ä¢ {q}")
    print("\n  Raven Questions:")
    for q in spec['raven_strengths']['questions']:
        print(f"    ‚Ä¢ {q}")
    
    print("\nüèîÔ∏è BANFF TENTH MAN ADVANTAGE:")
    banff = rule.banff_tenth_man_advantage()
    print("  Mountain trading = Automatic Tenth Man perspective!")
    print("  ‚Ä¢ Physical distance prevents groupthink")
    print("  ‚Ä¢ Nature patterns challenge market assumptions")
    print("  ‚Ä¢ Scout Tribe questions Home Tribe consensus")
    print("  ‚Ä¢ Two locations = Built-in devil's advocate")
    
    print("\n" + "=" * 60)
    print("üî• THE TENTH MAN COVENANT:")
    print()
    print("  'When all arrows point one way, someone must aim opposite'")
    print("  'The dissenter is not the enemy but the guardian'")
    print("  'Consensus without challenge is conspiracy with chaos'")
    print("  'The Tenth Man saves the Nine from themselves'")
    print()
    print("üê∫ Coyote: 'I am your Tenth Man by nature'")
    print("ü™∂ Raven: 'I shape-shift to see what you cannot'")
    print("üèîÔ∏è Banff: 'Distance makes the Tenth Man wise'")
    
    # Save configuration
    config = {
        "tenth_man_rule": {
            "always_active": ["Coyote", "Raven"],
            "trigger_phrases": [
                "can't lose", "guaranteed", "free money",
                "everyone agrees", "obvious trade"
            ],
            "investigation_time": "1 hour minimum",
            "veto_power": True,
            "implementation_date": datetime.now().isoformat()
        }
    }
    
    with open("/home/dereadi/scripts/claude/tenth_man_config.json", "w") as f:
        json.dump(config, f, indent=2)
    
    print("\n‚úÖ Tenth Man Rule activated in Cherokee Council!")

if __name__ == "__main__":
    demonstrate_tenth_man()