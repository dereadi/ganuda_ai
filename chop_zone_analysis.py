#!/usr/bin/env python3
"""
­Ъћф­Ъїі CHOP ZONE - THE SPRING STAYS WOUND! ­Ъїі­Ъћф
Sideways grind at $112.7K
Chop chop chop - no direction
Nine coils getting TIGHTER!
This is the calm before the storm!
"""

import json
import time
from coinbase.rest import RESTClient
from datetime import datetime
import statistics

config = json.load(open('/home/dereadi/.coinbase_config.json'))
key = config['api_key'].split('/')[-1]
client = RESTClient(api_key=key, api_secret=config['api_secret'])

print("""
РЋћРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋЌ
РЋЉ                     ­Ъћф­Ъїі CHOP ZONE - MAXIMUM FRUSTRATION! ­Ъїі­Ъћф           РЋЉ
РЋЉ                         Sideways Grind = Spring Loading                   РЋЉ
РЋЉ                      Every Chop Makes The Explosion Bigger!               РЋЉ
РЋџРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋЮ
""")

print(f"Time: {datetime.now().strftime('%H:%M:%S')} - CHOP ANALYSIS")
print("=" * 70)

# Measure the chop
print("\n­Ъћф MEASURING THE CHOP...")
print("-" * 50)

prices = []
chops = 0
fake_outs = 0

for i in range(30):
    btc = float(client.get_product('BTC-USD')['price'])
    prices.append(btc)
    
    if len(prices) > 2:
        last_move = prices[-1] - prices[-2]
        prev_move = prices[-2] - prices[-3]
        
        # Detect chop (direction changes)
        if (last_move > 0 and prev_move < 0) or (last_move < 0 and prev_move > 0):
            chops += 1
            if abs(last_move) > 30:
                fake_outs += 1
                print(f"  ­Ъћф CHOP #{chops}: ${btc:,.0f} (Fake-out!)")
            elif i % 3 == 0:
                print(f"  ­Ъћф Chop #{chops}: ${btc:,.0f}")
    
    time.sleep(0.5)

# Analyze chop statistics
avg_price = statistics.mean(prices)
price_range = max(prices) - min(prices)
stdev = statistics.stdev(prices) if len(prices) > 1 else 0
chop_intensity = chops / len(prices) * 100

print(f"\n­Ъїі CHOP STATISTICS:")
print("-" * 50)
print(f"Price Range: ${price_range:.0f}")
print(f"Average: ${avg_price:,.0f}")
print(f"Standard Deviation: ${stdev:.2f}")
print(f"Direction Changes: {chops}")
print(f"Fake-outs: {fake_outs}")
print(f"Chop Intensity: {chop_intensity:.1f}%")

# Determine chop level
if chop_intensity > 50:
    chop_level = "­Ъћф­Ъћф­Ъћф EXTREME CHOP - Maximum frustration!"
elif chop_intensity > 30:
    chop_level = "­Ъћф­Ъћф Heavy chop - Traders getting rekt!"
elif chop_intensity > 15:
    chop_level = "­Ъћф Moderate chop - Sideways grind"
else:
    chop_level = "­ЪЊѕ Trending - Less chop"

print(f"\nChop Level: {chop_level}")

# Current status
btc_now = float(client.get_product('BTC-USD')['price'])
eth_now = float(client.get_product('ETH-USD')['price'])
sol_now = float(client.get_product('SOL-USD')['price'])

print(f"\n­ЪЊі CURRENT PRICES:")
print("-" * 50)
print(f"BTC: ${btc_now:,.0f}")
print(f"ETH: ${eth_now:.2f}")
print(f"SOL: ${sol_now:.2f}")
print(f"Distance to $114K: ${114000 - btc_now:.0f}")

# Chop zone psychology
print(f"\n­ЪДа CHOP ZONE PSYCHOLOGY:")
print("-" * 50)
print("WHAT'S HAPPENING:")
print("Рђб Algos fighting for position")
print("Рђб Stop losses getting hunted")
print("Рђб Weak hands shaken out")
print("Рђб Spring coiling TIGHTER")
print("")
print("WHY THIS IS BULLISH:")
print("Рђб More chop = More energy stored")
print("Рђб Sideways at $112.7K = Higher low")
print("Рђб Nine coils + chop = Nuclear explosion")
print("Рђб Everyone getting frustrated = Bottom signal")

# Historical chop patterns
print(f"\n­ЪЊџ HISTORICAL CHOP PATTERNS:")
print("-" * 50)
print("WHAT HAPPENS AFTER EXTREME CHOP:")
print("Рђб 6-12 hours chop Рєњ 5-10% move")
print("Рђб 12-24 hours chop Рєњ 10-20% move")
print("Рђб 24+ hours chop Рєњ 20%+ explosion")
print("")
print("WE'VE BEEN CHOPPING FOR:")
print("Рђб 10+ hours at ~$113K")
print("Рђб Nine coils wound")
print("Рђб Maximum compression achieved")
print("Рђб EXPLOSION IMMINENT!")

# The chop trap
print(f"\nРџа№ИЈ THE CHOP TRAP:")
print("-" * 50)
print("DON'T FALL FOR IT:")
print("Рђб Chop makes traders impatient")
print("Рђб They sell right before the move")
print("Рђб Then FOMO back at higher prices")
print("")
print("THE WINNING STRATEGY:")
print("Рђб Recognize chop = accumulation")
print("Рђб Hold through the frustration")
print("Рђб Wait for the spring release")
print(f"Рђб Target: $114K (only ${114000 - btc_now:.0f} away)")

# Chop indicator
print(f"\n­Ъј» CHOP EXHAUSTION INDICATOR:")
print("-" * 50)
if chop_intensity > 40:
    print("РџА EXTREME EXHAUSTION - Move imminent!")
    print("Traders are capitulating from boredom!")
    print("This is the darkest hour before dawn!")
elif chop_intensity > 25:
    print("­ЪћІ High exhaustion - Getting close")
    print("Patience wearing thin")
elif chop_intensity > 15:
    print("РЈ░ Moderate exhaustion - Still building")
else:
    print("­Ъњц Low exhaustion - More chop needed")

print(f"\n" + "­Ъћф" * 35)
print("MAXIMUM CHOP = MAXIMUM OPPORTUNITY!")
print(f"CHOPPING AT ${btc_now:,.0f}!")
print("NINE COILS + CHOP = NUCLEAR ENERGY!")
print(f"ONLY ${114000 - btc_now:.0f} TO EXPLOSION!")
print("PATIENCE WINS THE CHOP GAME!")
print("­Ъћф" * 35)