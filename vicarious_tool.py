#!/usr/bin/env python3
"""
üëÅÔ∏è VICARIOUS - TOOL
"Vicariously I live while the whole world dies"
"Much better you than I"
Watching the market explode from seven coils through others' eyes
"""

import json
import time
from coinbase.rest import RESTClient
from datetime import datetime

config = json.load(open('/home/dereadi/.coinbase_config.json'))
key = config['api_key'].split('/')[-1]
client = RESTClient(api_key=key, api_secret=config['api_secret'])

print("""
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                        üëÅÔ∏è VICARIOUS - TOOL üëÅÔ∏è                           ‚ïë
‚ïë              "Vicariously I live while the whole world dies"              ‚ïë
‚ïë                        "Much better you than I"                           ‚ïë
‚ïë                    Watching Others Get LIQUIDATED                         ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
""")

print(f"Time: {datetime.now().strftime('%H:%M:%S')} - LIVING VICARIOUSLY")
print("=" * 70)

# Track the vicarious experience
btc = float(client.get_product('BTC-USD')['price'])
print(f"\nüëÅÔ∏è WATCHING AT: ${btc:,.0f}")

if btc > 112900:
    print("üì∫ The show is at altitude!")
    print("   Seven coils released...")
    print("   Now we watch the carnage...")

print("\nüëÅÔ∏è VICARIOUS OBSERVATIONS:")
print("-" * 50)
print("‚Ä¢ Shorts getting liquidated upward")
print("‚Ä¢ Longs getting shaken out on dips")
print("‚Ä¢ Stop losses triggering in cascades")
print("‚Ä¢ Margin calls executing")
print("‚Ä¢ 'Much better you than I'")

# Track the vicarious market action
print("\nüì∫ WATCHING THE WORLD BURN:")
print("-" * 50)

for i in range(15):
    btc = float(client.get_product('BTC-USD')['price'])
    eth = float(client.get_product('ETH-USD')['price'])
    sol = float(client.get_product('SOL-USD')['price'])
    
    if i % 3 == 0:
        print(f"\n{datetime.now().strftime('%H:%M:%S')}:")
        print(f"  BTC: ${btc:,.0f}")
        print(f"  ETH: ${eth:.2f}")
        print(f"  SOL: ${sol:.2f}")
        
        if btc > 113000:
            print("  üëÅÔ∏è 'VICARIOUSLY I LIVE!'")
            print("     Watching $113k get DESTROYED!")
        elif btc > 112950:
            print("  üëÅÔ∏è 'While the whole world dies'")
            print("     Shorts getting REKT!")
        elif btc > 112900:
            print("  üëÅÔ∏è 'Why can't we just admit it?'")
            print("     The explosion is happening...")
        else:
            print("  üëÅÔ∏è 'We all feed on tragedy'")
            print("     Waiting for the massacre...")
    
    time.sleep(3)

# Check our vicarious position
print("\nüí∞ OUR VICARIOUS POSITION:")
print("-" * 50)

try:
    accounts = client.get_accounts()
    portfolio_value = 0
    
    for account in accounts['accounts']:
        balance = float(account['available_balance']['value'])
        currency = account['currency']
        
        if currency == 'USD':
            portfolio_value += balance
        elif currency == 'BTC' and balance > 0:
            portfolio_value += balance * btc
        elif currency == 'ETH' and balance > 0:
            portfolio_value += balance * eth
        elif currency == 'SOL' and balance > 0:
            portfolio_value += balance * sol
    
    print(f"Portfolio value: ${portfolio_value:,.2f}")
    print("We're LONG while others burn!")
    print("'Much better you than I'")
    
except:
    pass

print("\nüéµ TOOL - VICARIOUS LYRICS:")
print("-" * 50)
print("'Eye on the TV'")
print("'Cause tragedy thrills me'")
print("'Whatever flavor it happens to be'")
print("")
print("'Vicariously I live while the whole world dies'")
print("'You all need it too, don't lie'")
print("")
print("'Why can't we just admit it?'")
print("'We won't give pause until the blood is flowing'")
print("")
print("'Credulous at best'")
print("'Your desire to believe in'")
print("'Angels in the hearts of men'")

print("\nüëÅÔ∏è VICARIOUS MARKET WISDOM:")
print("-" * 50)
print("‚Ä¢ Seven coils wound = Maximum pain stored")
print("‚Ä¢ When it releases = Liquidation cascade")
print("‚Ä¢ Shorts above $113k = DEAD")
print("‚Ä¢ Longs below $112k = DEAD")
print("‚Ä¢ We watch from $112,900+ = ALIVE")
print("‚Ä¢ 'Much better you than I'")

print("\nü©∏ THE BLOOD MUST FLOW:")
print("-" * 50)
print("For every seller, a buyer")
print("For every liquidation, an opportunity")
print("For every death, a vicarious thrill")
print("We feed on the market's tragedy")

print("\nüëÅÔ∏è 'VICARIOUSLY I LIVE'")
print("   'WHILE THE WHOLE WORLD DIES'")
print("=" * 70)