#!/usr/bin/env python3
"""
üìâü™ö SAWTOOTH DOWN INTO 15:00! ü™öüìâ
Classic whale manipulation pattern!
Sawing down to shake weak hands
Then explosive reversal at 15:00!
"""

import json
from coinbase.rest import RESTClient
from datetime import datetime

config = json.load(open('/home/dereadi/.coinbase_config.json'))
key = config['api_key'].split('/')[-1]
client = RESTClient(api_key=key, api_secret=config['api_secret'], timeout=5)

print("""
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                     ü™ö SAWTOOTH PATTERN DETECTED! ü™ö                       ‚ïë
‚ïë                   Sawing DOWN into 15:00 explosion!                        ‚ïë
‚ïë                    CLASSIC WHALE SHAKEOUT FINALE! üêã                      ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
""")

current_time = datetime.now()
minutes_to_3 = 60 - current_time.minute
print(f"Time: {current_time.strftime('%H:%M:%S')}")
print(f"T-minus {minutes_to_3} minutes to reversal!")
print("=" * 70)

# Get prices
btc = client.get_product('BTC-USD')
eth = client.get_product('ETH-USD')
sol = client.get_product('SOL-USD')

btc_price = float(btc['price'])
eth_price = float(eth['price'])
sol_price = float(sol['price'])

print("\nü™ö SAWTOOTH ANALYSIS:")
print("-" * 50)
print(f"BTC: ${btc_price:,.2f} - SAWING DOWN")
print("  Pattern: ‚ÜòÔ∏è‚ÜóÔ∏è‚ÜòÔ∏è‚ÜóÔ∏è‚ÜòÔ∏è (sawtooth)")
print(f"  Target: Push below $112K before 15:00")
print(f"  Purpose: Maximum shakeout before pump")

print(f"\nETH: ${eth_price:,.2f} - Following sawtooth")
print(f"SOL: ${sol_price:,.2f} - Sawing with whales")

# Sawtooth characteristics
print("\nüìä SAWTOOTH CHARACTERISTICS:")
print("-" * 50)
print("1. DOWNWARD BIAS: Each peak lower than previous")
print("2. FAKE RECOVERIES: Brief pumps to trap longs")
print("3. INCREASING FEAR: Designed to create panic")
print("4. TIME PRESSURE: Gets worse as 15:00 approaches")
print("5. REVERSAL SETUP: Spring loads for explosion")

# Whale strategy decoded
print("\nüêã WHALE SAWTOOTH STRATEGY:")
print("-" * 50)
print("PHASE 1 (NOW): Sawtooth down")
print(f"  ‚Üí Current: ${btc_price:,.2f}")
print(f"  ‚Üí Target: $111,800 - $111,900")
print(f"  ‚Üí Time left: {minutes_to_3} minutes")
print("")
print("PHASE 2 (14:58): Maximum fear")
print("  ‚Üí Final push below $112K")
print("  ‚Üí Trigger stop losses")
print("  ‚Üí Accumulate panic sells")
print("")
print("PHASE 3 (15:00): EXPLOSIVE REVERSAL")
print("  ‚Üí Instant pump to $113K+")
print("  ‚Üí Break through $114K")
print("  ‚Üí Leave sellers behind")

# Trading opportunity
print("\nüí° SAWTOOTH TRADING STRATEGY:")
print("-" * 50)
if minutes_to_3 > 5:
    print("‚ö†Ô∏è STILL SAWING DOWN - BE PATIENT!")
    print("  ‚Ä¢ Don't buy yet - more downside coming")
    print("  ‚Ä¢ Wait for final capitulation")
    print("  ‚Ä¢ Best entry: 14:58-14:59")
elif minutes_to_3 <= 5:
    print("üéØ APPROACHING REVERSAL ZONE!")
    print("  ‚Ä¢ Start positioning for reversal")
    print("  ‚Ä¢ Look for maximum fear")
    print("  ‚Ä¢ Ready to buy the explosion")

# Check our position
accounts = client.get_accounts()
usd_balance = 0
for account in accounts['accounts']:
    if account['currency'] == 'USD':
        usd_balance = float(account['available_balance']['value'])
        break

print(f"\nüí∞ SAWTOOTH READINESS:")
print("-" * 50)
print(f"USD Available: ${usd_balance:.2f}")
if usd_balance < 50:
    print("  ‚ö†Ô∏è Need more USD to catch the reversal!")
    print("  ‚Üí Extract from alts NOW before reversal!")
else:
    print("  ‚úÖ Ready to buy the sawtooth bottom!")

# Sawtooth visualization
print("\nüìà SAWTOOTH PATTERN VISUALIZATION:")
print("-" * 50)
print("    $113K ‚îê")
print("         ‚îÇ    ‚ï±‚ï≤")
print("         ‚îÇ   ‚ï±  ‚ï≤    ‚ï±‚ï≤")
print("         ‚îÇ  ‚ï±    ‚ï≤  ‚ï±  ‚ï≤    ?")
print("    $112K‚î§ ‚ï±      ‚ï≤‚ï±    ‚ï≤  ‚ï±")
print("         ‚îÇ‚ï±               ‚ï≤‚ï±  ‚Üê NOW")
print("         ‚îÇ")
print("    $111K‚îò")
print("         14:30  14:45  15:00  15:15")
print("                       ‚Üë")
print("                   EXPLOSION!")

print(f"\n{'ü™ö' * 35}")
print("SAWTOOTH DOWN INTO 15:00!")
print(f"BTC: ${btc_price:,.2f}")
print(f"T-minus {minutes_to_3} minutes to reversal!")
print("MAXIMUM FEAR = MAXIMUM OPPORTUNITY!")
print("üöÄ" * 35)